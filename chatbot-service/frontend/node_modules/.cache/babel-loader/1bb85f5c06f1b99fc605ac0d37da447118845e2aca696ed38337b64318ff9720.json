{"ast":null,"code":"import keycloak from './keycloak'; // Corrected path to the Keycloak instance\n\nconst API_URL = 'http://localhost:8000'; // Use localhost for local dev\n\nexport async function sendMessageToChatbot(message, token) {\n  if (!token) {\n    throw new Error(\"Aucun token disponible. Veuillez vous connecter.\");\n  }\n  const response = await fetch(`${API_URL}/chat`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      message\n    })\n  });\n  if (!response.ok) {\n    throw new Error(\"Erreur lors de l'envoi du message au chatbot\");\n  }\n  return response.json();\n}","map":{"version":3,"names":["keycloak","API_URL","sendMessageToChatbot","message","token","Error","response","fetch","method","headers","body","JSON","stringify","ok","json"],"sources":["/Users/mac/VSCodeProj/PT1_TPs/auth&chatbot/chatbot-service/frontend/src/api/chatbotAPI.js"],"sourcesContent":["import keycloak from './keycloak'; // Corrected path to the Keycloak instance\n\nconst API_URL = 'http://localhost:8000'; // Use localhost for local dev\n\nexport async function sendMessageToChatbot(message, token) {\n  if (!token) {\n    throw new Error(\"Aucun token disponible. Veuillez vous connecter.\");\n  }\n  const response = await fetch(`${API_URL}/chat`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    },\n    body: JSON.stringify({ message })\n  });\n  if (!response.ok) {\n    throw new Error(\"Erreur lors de l'envoi du message au chatbot\");\n  }\n  return response.json();\n}"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY,CAAC,CAAC;;AAEnC,MAAMC,OAAO,GAAG,uBAAuB,CAAC,CAAC;;AAEzC,OAAO,eAAeC,oBAAoBA,CAACC,OAAO,EAAEC,KAAK,EAAE;EACzD,IAAI,CAACA,KAAK,EAAE;IACV,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;EACrE;EACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,OAAO,OAAO,EAAE;IAC9CO,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUL,KAAK;IAClC,CAAC;IACDM,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAET;IAAQ,CAAC;EAClC,CAAC,CAAC;EACF,IAAI,CAACG,QAAQ,CAACO,EAAE,EAAE;IAChB,MAAM,IAAIR,KAAK,CAAC,8CAA8C,CAAC;EACjE;EACA,OAAOC,QAAQ,CAACQ,IAAI,CAAC,CAAC;AACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}